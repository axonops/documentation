
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.5">
    
    
      
        <title>Metrics database - AxonOps Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-69443414-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#axon-server-metrics-database" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
<div class="md-banner-child">Try the new <strong>AxonOps Demo Sandbox</strong> to view and interact with a live Cassandra cluster</div>
<div class="md-banner-child"><a class="events_button" href="https://axonops.com/demo-sandbox/">Demo Sandbox Instant Access</a></div>
<div id="myNumber" style="visibility: hidden;"></div>

          </div>
        </aside>
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine classes -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="">

    <!-- Link to home -->
    <a href="https://axonops.com" title="AxonOps Docs"
      class="md-header__button md-logo" aria-label="AxonOps Docs" data-md-component="logo">
      <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Logo -->

  <img src="../../../img/axonops_logo.svg" alt="logo" />

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AxonOps Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
            Metrics database
            
          </span>
        </div>
      </div>
    </div>
    <div>
      <nav class="t_nav">
        <ul>
          <!-- <li>
            <a href="https://axonops.com/">Axonops</a>
          </li> -->
          <!-- <li>
            <a href="https://axonops.com/">Platform<span class="top_li">3</span></a>
            <ul>
              <li><a href="/cassandra-monitoring/">Monitoring</a></li>
              <li><a
                  href="/cassandra-maintenance/">Maintenance</a></li>
              <li><a
                  href="/cassandra-backup-and-restore/">Backup</a></li>
              <li>
                <a href="/#features" aria-current="page">Features</a></li>
              <li>
                <a href="/#integrations" aria-current="page">Integrations</a></li>
              <li><a
                  href="https://axonops.com/apache-cassandra-support/">Cassandra Support</a></li>
              <li><a
                  href="https://axonops.com/demo-sandbox/"><span style="color: #7CD826;">Demo Sandbox</span></a></li>
              <li><a
                  href="https://axonops.com/aws-cloud-provisioning-technical-preview-for-apache-cassandra/"><span
                    style="color: #7CD826;">Cloud Provisioning Preview</span></a></li>
            </ul>
          </li> 
          <li><a
              href="https://axonops.com/pricing/">Pricing</a></li>
          <li><a
              href="#">Resources</a>
            <ul>
              <li><a
                  href="https://axonops.com/blog/">Blog</a></li>
              <li><a target="_blank"
                  rel="noopener" href="https://docs.axonops.com">Documentation</a></li>
              <li><a
                  href="https://axonops.com/events/">Events</a></li>
            </ul>
          </li>
          <li><a
              href="#">About</a>
            <ul>
              <li><a
                  href="https://axonops.com/company/">Company</a></li>
              <li><a
                  href="https://axonops.com/contact/">Contact Us</a></li>
            </ul>
          </li> -->
          <li><a target="_blank"
              rel="noopener" href="https://axonops.com/signin"><img width="20" height="20"
                src="https://axonops.com/wp-content/uploads/2023/03/signin.png.webp"
                class="menu-icon entered lazyloaded" style="top:4px;"
                data-lazy-src="https://axonops.com/wp-content/uploads/2023/03/signin.png.webp"
                data-ll-status="loaded"><noscript><img width="20" height="20"
                  src="https://axonops.com/wp-content/uploads/2023/03/signin.png.webp" class="menu-icon"
                  style="top:4px;" /></noscript> Log In</a></li>
          <li><a
              href="https://axonops.com/starter/"><span class="sign-up-button">Free Sign Up</span></a></li>
        </ul>
      </nav>
    </div>

    <!-- Color palette toggle -->
    
    
    

    <!-- User preference: color palette -->
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    

    <!-- Repository information -->
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
<img class="hero" src="https://axonops.com/wp-content/uploads/2023/11/Hero-5.jpg" alt="" width="100%" height="200" draggable="false">
<!-- <iframe src="https://player.vimeo.com/video/798782616?h=afa60e41ac" width="1080" height="180" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen="" data-lf-form-tracking-inspected-dzlr5a5zaxd8boq2="true" data-lf-yt-playback-inspected-dzlr5a5zaxd8boq2="true" data-lf-vimeo-playback-inspected-dzlr5a5zaxd8boq2="true"></iframe> -->
<!-- <div class="et_pb_code_inner et_multi_view_swapped" 
data-et-multi-view="{&quot;schema&quot;:{&quot;content&quot;:{&quot;desktop&quot;:&quot;
  <iframe src=\&quot;https:\/\/player.vimeo.com\/video\/798782616?h=afa60e41ac\&quot; width=\&quot;1080\&quot; height=\&quot;610\&quot; frameborder=\&quot;0\&quot; allow=\&quot;autoplay; fullscreen; picture-in-picture\&quot; allowfullscreen>
    <\/iframe>&quot;,&quot;tablet&quot;:&quot;&quot;,&quot;phone&quot;:&quot;
    
    <iframe src=\&quot;https:\/\/player.vimeo.com\/video\/798782616?h=afa60e41ac\&quot; width=\&quot;1080\&quot; height=\&quot;180\&quot; frameborder=\&quot;0\&quot; allow=\&quot;autoplay; fullscreen; picture-in-picture\&quot; allowfullscreen>
      <\/iframe>&quot;}},&quot;slug&quot;:&quot;et_pb_code&quot;}" data-et-multi-view-load-tablet-hidden="true" data-et-multi-view-load-phone-hidden="true">
      
    </div> -->

      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../editions/free_editions/" class="md-tabs__link">
        Editions
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../get_started/saas/" class="md-tabs__link md-tabs__link--active">
        Get Started
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../cluster/cluster-overview/" class="md-tabs__link">
        Using AxonOps
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://axonops.com" title="AxonOps Docs" class="md-nav__button md-logo" aria-label="AxonOps Docs" data-md-component="logo">
      <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Logo -->

  <img src="../../../img/axonops_logo.svg" alt="logo" />

    </a>
    AxonOps Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Editions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Editions" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Editions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../editions/free_editions/" class="md-nav__link">
        Free Editions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../editions/enterprise_edition/" class="md-nav__link">
        Enterprise Edition
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Get Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Get Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Get Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          AxonOps Cloud(SaaS)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="AxonOps Cloud(SaaS)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          AxonOps Cloud(SaaS)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../get_started/saas/" class="md-nav__link">
        Setup account
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../get_started/agent_setup/" class="md-nav__link">
        Agent setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Self Hosted
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Self Hosted" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Self Hosted
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_1" type="checkbox" id="__nav_3_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2_1">
          AxonOps Server
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="AxonOps Server" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_2_1">
          <span class="md-nav__icon md-icon"></span>
          AxonOps Server
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ubuntu/" class="md-nav__link">
        Installing on Ubuntu/Debian
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../centos/" class="md-nav__link">
        Installing on Centos/Redhat
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Metrics database
      </a>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../axon-dash/install/" class="md-nav__link">
        AxonOps Dash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cassandra-agent/install/" class="md-nav__link">
        AxonOps Agent
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Compatibility
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Compatibility" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Compatibility
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../compat_matrix/compat_matrix/" class="md-nav__link">
        Interoperability matrix
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4">
          Developer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Developer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../get_started/docker/" class="md-nav__link">
        Quickstart - Docker
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Using AxonOps
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Using AxonOps" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Using AxonOps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          Cluster Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cluster Overview" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Cluster Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cluster/cluster-overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Monitoring
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Monitoring" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Monitoring
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/overview/" class="md-nav__link">
        Monitoring Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/servicechecks/overview/" class="md-nav__link">
        Service Checks
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_3" type="checkbox" id="__nav_4_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2_3">
          Metrics Dashboard
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Metrics Dashboard" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_3">
          <span class="md-nav__icon md-icon"></span>
          Metrics Dashboard
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/metricsdashboards/cassandra/" class="md-nav__link">
        Cassandra
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/logsandevents/logsandevents/" class="md-nav__link">
        Logs & Events
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Notification Integrations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Notification Integrations" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Notification Integrations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integrations/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integrations/pagerduy-integration/" class="md-nav__link">
        PagerDuty Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integrations/slack-integration/" class="md-nav__link">
        Slack Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integrations/microsoft-teams-integration/" class="md-nav__link">
        Microsoft Teams
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integrations/servicenow-integration/" class="md-nav__link">
        ServiceNow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integrations/email-integration/" class="md-nav__link">
        Email Integration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4">
          Operations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operations" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_1" type="checkbox" id="__nav_4_4_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_1">
          Cassandra
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cassandra" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_1">
          <span class="md-nav__icon md-icon"></span>
          Cassandra
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/cassandra/repair/" class="md-nav__link">
        Repair
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_1_2" type="checkbox" id="__nav_4_4_1_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_1_2">
          Backups
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Backups" data-md-level="4">
        <label class="md-nav__title" for="__nav_4_4_1_2">
          <span class="md-nav__icon md-icon"></span>
          Backups
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/cassandra/backup/overview/" class="md-nav__link">
        Backups Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_1_2_2" type="checkbox" id="__nav_4_4_1_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_1_2_2">
          Restore
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Restore" data-md-level="5">
        <label class="md-nav__title" for="__nav_4_4_1_2_2">
          <span class="md-nav__icon md-icon"></span>
          Restore
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/cassandra/restore/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/cassandra/restore/restore-node-same-ip/" class="md-nav__link">
        Single node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/cassandra/restore/restore-node-different-ip/" class="md-nav__link">
        Single node with a different IP address
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/cassandra/restore/restore-cluster-same-ip/" class="md-nav__link">
        Whole cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/cassandra/restore/restore-cluster-different-ips/" class="md-nav__link">
        Whole cluster with changed IP addresses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/cassandra/restore/restore-different-cluster/" class="md-nav__link">
        Restore to a different cluster
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/cassandra/rollingrestart/overview/" class="md-nav__link">
        Rolling Restart
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5">
          How-to
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="How-to" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          How-to
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../how-to/setup-alert-rules/" class="md-nav__link">
        Setup Alert Rules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../how-to/setup-log-collection/" class="md-nav__link">
        Setup Log Collection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../how-to/reuse-host-id/" class="md-nav__link">
        Re-use an existing host ID
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="axon-server-metrics-database">axon-server metrics database<a class="headerlink" href="#axon-server-metrics-database" title="Permanent link">&para;</a></h1>
<h1 id="using-cassandra-as-a-metrics-store">Using Cassandra as a metrics store<a class="headerlink" href="#using-cassandra-as-a-metrics-store" title="Permanent link">&para;</a></h1>
<p>You can use Cassandra as a metrics store instead of Elasticsearch for better performances.
To start using a CQL store you just have to specify CQL hosts in <strong>axon-server.yml</strong>:</p>
<div class="bash codehilite"><pre><span></span><code>cql_hosts<span class="w"> </span>:
<span class="w">    </span>-<span class="w"> </span><span class="m">192</span>.168.0.1:9042
<span class="w">    </span>-<span class="w"> </span><span class="m">192</span>.168.0.2:9042
<span class="w">    </span>...
</code></pre></div>

<p>By default, the AxonOps server automatically creates the necessary keyspace and tables.
You can override this behavior by specifying the following field in <strong>axon-server.yml</strong>:</p>
<div class="bash codehilite"><pre><span></span><code>cql_autocreate_tables<span class="w"> </span>:<span class="w"> </span><span class="nb">false</span>
cql_keyspace<span class="w"> </span>:<span class="w"> </span><span class="s2">&quot;axonops&quot;</span>
cql_keyspace_replication<span class="w"> </span>:<span class="w"> </span><span class="s2">&quot;{ &#39;class&#39; : &#39;SimpleStrategy&#39;, &#39;replication_factor&#39; : 1 }&quot;</span>
</code></pre></div>

<p>We recommend setting up at least a 3 nodes cluster with <strong>NetworkTopologyStrategy</strong> and a <strong>replication_factor</strong> of <strong>3</strong>.</p>
<h2 id="connecting-to-encrypted-cassandra-metrics-store">Connecting to encrypted Cassandra metrics store<a class="headerlink" href="#connecting-to-encrypted-cassandra-metrics-store" title="Permanent link">&para;</a></h2>
<p>We recommend setting up a Secured Socket Layer connection to Cassandra with the following fields in <strong>axon-server.yml</strong>:</p>
<div class="bash codehilite"><pre><span></span><code>cql_ssl:<span class="w"> </span><span class="nb">true</span>
cql_skip_verify:<span class="w"> </span><span class="nb">false</span>
cql_ca_file:<span class="w"> </span><span class="s1">&#39;/path/to/ca_cert&#39;</span>
cql_cert_file:<span class="w"> </span><span class="s1">&#39;/path/to/cert_file&#39;</span>
cql_key_file:<span class="w"> </span><span class="s1">&#39;/path/to/key_file&#39;</span>
</code></pre></div>

<h2 id="metrics-cache-recommendations">Metrics cache recommendations<a class="headerlink" href="#metrics-cache-recommendations" title="Permanent link">&para;</a></h2>
<p>When using Cassandra as a metrics store the AxonOps server can cache metrics data in memory to further improve
performance. This is configured using the <code>cql_metrics_cache_max_items</code> and <code>cql_metrics_cache_max_size_mb</code> options 
in <strong>axon-server.yml</strong>. The default values are shown here:</p>
<div class="yaml codehilite"><pre><span></span><code><span class="nt">cql_metrics_cache_max_items</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5000000</span>
<span class="nt">cql_metrics_cache_max_size_mb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">400</span>
</code></pre></div>

<p>The recommended settings for these options are as follows:</p>
<table>
<thead>
<tr>
<th>Cassandra Nodes</th>
<th>cql_metrics_cache_max_items</th>
<th>cql_metrics_cache_max_size_mb</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;10</td>
<td>5000000</td>
<td>1000</td>
</tr>
<tr>
<td>&lt;50</td>
<td>5000000</td>
<td>4000</td>
</tr>
<tr>
<td>100</td>
<td>10000000</td>
<td>10000</td>
</tr>
<tr>
<td>200</td>
<td>10000000</td>
<td>20000</td>
</tr>
</tbody>
</table>
<p>These sizes can be tuned to balance memory use in AxonOps against the read workload on Cassandra.
When tuning these parameters it is recommended to set <code>cql_metrics_cache_max_items</code> to a high value and limit the
cache size with <code>cql_metrics_cache_max_size_mb</code>.</p>
<h2 id="other-cql-fields">Other CQL fields<a class="headerlink" href="#other-cql-fields" title="Permanent link">&para;</a></h2>
<p>You can also specify the following fields:</p>
<div class="bash codehilite"><pre><span></span><code>cql_proto_version<span class="w"> </span>int<span class="w">                   </span>
cql_batch_size<span class="w">  </span>int<span class="w">                   </span>
cql_page_size<span class="w"> </span>int<span class="w">                   </span>
cql_local_dc<span class="w"> </span>string<span class="w">                </span>
cql_username<span class="w"> </span>string<span class="w">                </span>
cql_password<span class="w"> </span>string<span class="w">                </span>
cql_max_concurrent_reads<span class="w"> </span>int<span class="w">                   </span>
cql_retrypolicy_numretries<span class="w"> </span>int<span class="w">                   </span>
cql_retrypolicy_min<span class="w"> </span>string<span class="w"> </span><span class="s2">&quot;1s&quot;</span>
cql_retrypolicy_max<span class="w"> </span>string<span class="w"> </span><span class="s2">&quot;10s&quot;</span>
cql_reconnectionpolicy_maxretries<span class="w"> </span>int<span class="w">                   </span>
cql_reconnectionpolicy_initialinterval<span class="w"> </span>string<span class="w"> </span><span class="s2">&quot;1s&quot;</span>
cql_reconnectionpolicy_maxinterval<span class="w"> </span>string<span class="w">  </span><span class="s2">&quot;10s&quot;</span>
cql_metrics_cache_max_size_mb<span class="w"> </span>int64<span class="w"> </span><span class="k">in</span><span class="w"> </span>MB<span class="w">               </span>
cql_metrics_cache_max_items<span class="w">  </span>int64<span class="w"> </span><span class="k">in</span><span class="w"> </span>MB<span class="w">                        </span>
cql_read_consistency<span class="w"> </span>string<span class="w"> </span><span class="o">(</span>controls<span class="w"> </span>the<span class="w"> </span>consistency<span class="w"> </span>of<span class="w"> </span><span class="nb">read</span><span class="w"> </span>operations,<span class="w"> </span>defaults<span class="w"> </span>to<span class="w"> </span>LOCAL_ONE<span class="o">)</span><span class="w">              </span>
cql_write_consistency<span class="w"> </span>string<span class="w"> </span><span class="o">(</span>controls<span class="w"> </span>the<span class="w"> </span>consistency<span class="w"> </span>of<span class="w"> </span>write<span class="w"> </span>operations,<span class="w"> </span>defaults<span class="w"> </span>to<span class="w"> </span>LOCAL_ONE<span class="o">)</span><span class="w">               </span>
cql_lvl1_compaction_window_size<span class="w"> </span>int<span class="w"> </span><span class="o">(</span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>table<span class="w"> </span>named<span class="w"> </span><span class="s1">&#39;metrics5&#39;</span><span class="w"> </span>when<span class="w"> </span>you<span class="w"> </span><span class="nb">let</span><span class="w"> </span>axonserver<span class="w"> </span>managing<span class="w"> </span>the<span class="w"> </span>tables<span class="w"> </span>automatically<span class="o">)</span><span class="w">                  </span>
cql_lvl2_compaction_window_size<span class="w"> </span>int<span class="w"> </span><span class="o">(</span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>table<span class="w"> </span>named<span class="w"> </span><span class="s1">&#39;metrics60&#39;</span><span class="w"> </span>when<span class="w"> </span>you<span class="w"> </span><span class="nb">let</span><span class="w"> </span>axonserver<span class="w"> </span>managing<span class="w"> </span>the<span class="w"> </span>tables<span class="w"> </span>automatically<span class="o">)</span><span class="w">                  </span>
cql_lvl3_compaction_window_size<span class="w"> </span>int<span class="w"> </span><span class="o">(</span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>table<span class="w"> </span>named<span class="w"> </span><span class="s1">&#39;metrics720&#39;</span><span class="w"> </span>when<span class="w"> </span>you<span class="w"> </span><span class="nb">let</span><span class="w"> </span>axonserver<span class="w"> </span>managing<span class="w"> </span>the<span class="w"> </span>tables<span class="w"> </span>automatically<span class="o">)</span><span class="w">                  </span>
cql_lvl4_compaction_window_size<span class="w"> </span>int<span class="w"> </span><span class="o">(</span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>table<span class="w"> </span>named<span class="w"> </span><span class="s1">&#39;metrics7200&#39;</span><span class="w"> </span>when<span class="w"> </span>you<span class="w"> </span><span class="nb">let</span><span class="w"> </span>axonserver<span class="w"> </span>managing<span class="w"> </span>the<span class="w"> </span>tables<span class="w"> </span>automatically<span class="o">)</span><span class="w">                  </span>
cql_lvl5_compaction_window_size<span class="w"> </span>int<span class="w"> </span><span class="o">(</span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>table<span class="w"> </span>named<span class="w"> </span><span class="s1">&#39;metrics86400&#39;</span><span class="w"> </span>when<span class="w"> </span>you<span class="w"> </span><span class="nb">let</span><span class="w"> </span>axonserver<span class="w"> </span>managing<span class="w"> </span>the<span class="w"> </span>tables<span class="w"> </span>automatically<span class="o">)</span><span class="w">                  </span>
</code></pre></div>

<p>The CQL for the default tables are the following:</p>
<div class="bash codehilite"><pre><span></span><code>CREATE<span class="w"> </span>TABLE<span class="w"> </span>IF<span class="w"> </span>NOT<span class="w"> </span>EXISTS<span class="w"> </span>axonops.metrics5<span class="w"> </span><span class="o">(</span>
<span class="w">    </span>orgid<span class="w"> </span>text,
<span class="w">    </span>metricid<span class="w"> </span>int,
<span class="w">    </span><span class="nb">time</span><span class="w"> </span>int,
<span class="w">    </span>value<span class="w"> </span>float,
<span class="w">    </span>PRIMARY<span class="w"> </span>KEY<span class="w"> </span><span class="o">((</span>orgid,<span class="w"> </span>metricid<span class="o">)</span>,<span class="w"> </span><span class="nb">time</span><span class="o">)</span>
<span class="o">)</span><span class="w"> </span>WITH<span class="w"> </span>CLUSTERING<span class="w"> </span>ORDER<span class="w"> </span>BY<span class="w"> </span><span class="o">(</span><span class="nb">time</span><span class="w"> </span>DESC<span class="o">)</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">caching</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;keys&#39;</span>:<span class="w"> </span><span class="s1">&#39;ALL&#39;</span>,<span class="w"> </span><span class="s1">&#39;rows_per_partition&#39;</span>:<span class="w"> </span><span class="s1">&#39;256&#39;</span><span class="o">}</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">compaction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;class&#39;</span>:<span class="w"> </span><span class="s1">&#39;TimeWindowCompactionStrategy&#39;</span>,<span class="w"> </span><span class="s1">&#39;compaction_window_size&#39;</span>:<span class="w"> </span><span class="s1">&#39;1&#39;</span>,<span class="w"> </span><span class="s1">&#39;compaction_window_unit&#39;</span>:<span class="w"> </span><span class="s1">&#39;DAYS&#39;</span>,<span class="w"> </span><span class="s1">&#39;max_threshold&#39;</span>:<span class="w"> </span><span class="s1">&#39;32&#39;</span>,<span class="w"> </span><span class="s1">&#39;min_threshold&#39;</span>:<span class="w"> </span><span class="s1">&#39;4&#39;</span><span class="o">}</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">default_time_to_live</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">604800</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;7 days retention for 5 seconds resolution metrics&#39;</span><span class="p">;</span>

CREATE<span class="w"> </span>TABLE<span class="w"> </span>IF<span class="w"> </span>NOT<span class="w"> </span>EXISTS<span class="w"> </span>axonops.metrics60<span class="w"> </span><span class="o">(</span>
<span class="w">    </span>orgid<span class="w"> </span>text,
<span class="w">    </span>metricid<span class="w"> </span>int,
<span class="w">    </span><span class="nb">time</span><span class="w"> </span>int,
<span class="w">    </span>value<span class="w"> </span>float,
<span class="w">    </span>PRIMARY<span class="w"> </span>KEY<span class="w"> </span><span class="o">((</span>orgid,<span class="w"> </span>metricid<span class="o">)</span>,<span class="w"> </span><span class="nb">time</span><span class="o">)</span>
<span class="o">)</span><span class="w"> </span>WITH<span class="w"> </span>CLUSTERING<span class="w"> </span>ORDER<span class="w"> </span>BY<span class="w"> </span><span class="o">(</span><span class="nb">time</span><span class="w"> </span>DESC<span class="o">)</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">caching</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;keys&#39;</span>:<span class="w"> </span><span class="s1">&#39;ALL&#39;</span>,<span class="w"> </span><span class="s1">&#39;rows_per_partition&#39;</span>:<span class="w"> </span><span class="s1">&#39;256&#39;</span><span class="o">}</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">compaction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;class&#39;</span>:<span class="w"> </span><span class="s1">&#39;TimeWindowCompactionStrategy&#39;</span>,<span class="w"> </span><span class="s1">&#39;compaction_window_size&#39;</span>:<span class="w"> </span><span class="s1">&#39;1&#39;</span>,<span class="w"> </span><span class="s1">&#39;compaction_window_unit&#39;</span>:<span class="w"> </span><span class="s1">&#39;DAYS&#39;</span>,<span class="w"> </span><span class="s1">&#39;max_threshold&#39;</span>:<span class="w"> </span><span class="s1">&#39;32&#39;</span>,<span class="w"> </span><span class="s1">&#39;min_threshold&#39;</span>:<span class="w"> </span><span class="s1">&#39;4&#39;</span><span class="o">}</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">default_time_to_live</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2592000</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;30 days retention for 60 seconds resolution metrics&#39;</span><span class="p">;</span>

CREATE<span class="w"> </span>TABLE<span class="w"> </span>IF<span class="w"> </span>NOT<span class="w"> </span>EXISTS<span class="w"> </span>axonops.metrics720<span class="w"> </span><span class="o">(</span>
<span class="w">    </span>orgid<span class="w"> </span>text,
<span class="w">    </span>metricid<span class="w"> </span>int,
<span class="w">    </span><span class="nb">time</span><span class="w"> </span>int,
<span class="w">    </span>value<span class="w"> </span>float,
<span class="w">    </span>PRIMARY<span class="w"> </span>KEY<span class="w"> </span><span class="o">((</span>orgid,<span class="w"> </span>metricid<span class="o">)</span>,<span class="w"> </span><span class="nb">time</span><span class="o">)</span>
<span class="o">)</span><span class="w"> </span>WITH<span class="w"> </span>CLUSTERING<span class="w"> </span>ORDER<span class="w"> </span>BY<span class="w"> </span><span class="o">(</span><span class="nb">time</span><span class="w"> </span>DESC<span class="o">)</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">caching</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;keys&#39;</span>:<span class="w"> </span><span class="s1">&#39;ALL&#39;</span>,<span class="w"> </span><span class="s1">&#39;rows_per_partition&#39;</span>:<span class="w"> </span><span class="s1">&#39;256&#39;</span><span class="o">}</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">compaction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;class&#39;</span>:<span class="w"> </span><span class="s1">&#39;TimeWindowCompactionStrategy&#39;</span>,<span class="w"> </span><span class="s1">&#39;compaction_window_size&#39;</span>:<span class="w"> </span><span class="s1">&#39;4&#39;</span>,<span class="w"> </span><span class="s1">&#39;compaction_window_unit&#39;</span>:<span class="w"> </span><span class="s1">&#39;DAYS&#39;</span>,<span class="w"> </span><span class="s1">&#39;max_threshold&#39;</span>:<span class="w"> </span><span class="s1">&#39;32&#39;</span>,<span class="w"> </span><span class="s1">&#39;min_threshold&#39;</span>:<span class="w"> </span><span class="s1">&#39;4&#39;</span><span class="o">}</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">default_time_to_live</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5184000</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;60 days retention for 720 seconds resolution metrics&#39;</span><span class="p">;</span>

CREATE<span class="w"> </span>TABLE<span class="w"> </span>IF<span class="w"> </span>NOT<span class="w"> </span>EXISTS<span class="w"> </span>axonops.metrics7200<span class="w"> </span><span class="o">(</span>
<span class="w">    </span>orgid<span class="w"> </span>text,
<span class="w">    </span>metricid<span class="w"> </span>int,
<span class="w">    </span><span class="nb">time</span><span class="w"> </span>int,
<span class="w">    </span>value<span class="w"> </span>float,
<span class="w">    </span>PRIMARY<span class="w"> </span>KEY<span class="w"> </span><span class="o">((</span>orgid,<span class="w"> </span>metricid<span class="o">)</span>,<span class="w"> </span><span class="nb">time</span><span class="o">)</span>
<span class="o">)</span><span class="w"> </span>WITH<span class="w"> </span>CLUSTERING<span class="w"> </span>ORDER<span class="w"> </span>BY<span class="w"> </span><span class="o">(</span><span class="nb">time</span><span class="w"> </span>DESC<span class="o">)</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">caching</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;keys&#39;</span>:<span class="w"> </span><span class="s1">&#39;ALL&#39;</span>,<span class="w"> </span><span class="s1">&#39;rows_per_partition&#39;</span>:<span class="w"> </span><span class="s1">&#39;256&#39;</span><span class="o">}</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">compaction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;class&#39;</span>:<span class="w"> </span><span class="s1">&#39;TimeWindowCompactionStrategy&#39;</span>,<span class="w"> </span><span class="s1">&#39;compaction_window_size&#39;</span>:<span class="w"> </span><span class="s1">&#39;30&#39;</span>,<span class="w"> </span><span class="s1">&#39;compaction_window_unit&#39;</span>:<span class="w"> </span><span class="s1">&#39;DAYS&#39;</span>,<span class="w"> </span><span class="s1">&#39;max_threshold&#39;</span>:<span class="w"> </span><span class="s1">&#39;32&#39;</span>,<span class="w"> </span><span class="s1">&#39;min_threshold&#39;</span>:<span class="w"> </span><span class="s1">&#39;4&#39;</span><span class="o">}</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">default_time_to_live</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">15552000</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;180 days retention for 7200 seconds resolution metrics&#39;</span><span class="p">;</span>

CREATE<span class="w"> </span>TABLE<span class="w"> </span>IF<span class="w"> </span>NOT<span class="w"> </span>EXISTS<span class="w"> </span>axonops.metrics86400<span class="w"> </span><span class="o">(</span>
<span class="w">    </span>orgid<span class="w"> </span>text,
<span class="w">    </span>metricid<span class="w"> </span>int,
<span class="w">    </span><span class="nb">time</span><span class="w"> </span>int,
<span class="w">    </span>value<span class="w"> </span>float,
<span class="w">    </span>PRIMARY<span class="w"> </span>KEY<span class="w"> </span><span class="o">((</span>orgid,<span class="w"> </span>metricid<span class="o">)</span>,<span class="w"> </span><span class="nb">time</span><span class="o">)</span>
<span class="o">)</span><span class="w"> </span>WITH<span class="w"> </span>CLUSTERING<span class="w"> </span>ORDER<span class="w"> </span>BY<span class="w"> </span><span class="o">(</span><span class="nb">time</span><span class="w"> </span>DESC<span class="o">)</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">caching</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;keys&#39;</span>:<span class="w"> </span><span class="s1">&#39;ALL&#39;</span>,<span class="w"> </span><span class="s1">&#39;rows_per_partition&#39;</span>:<span class="w"> </span><span class="s1">&#39;365&#39;</span><span class="o">}</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">compaction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="s1">&#39;class&#39;</span>:<span class="w"> </span><span class="s1">&#39;TimeWindowCompactionStrategy&#39;</span>,<span class="w"> </span><span class="s1">&#39;compaction_window_size&#39;</span>:<span class="w"> </span><span class="s1">&#39;60&#39;</span>,<span class="w"> </span><span class="s1">&#39;compaction_window_unit&#39;</span>:<span class="w"> </span><span class="s1">&#39;DAYS&#39;</span>,<span class="w"> </span><span class="s1">&#39;max_threshold&#39;</span>:<span class="w"> </span><span class="s1">&#39;32&#39;</span>,<span class="w"> </span><span class="s1">&#39;min_threshold&#39;</span>:<span class="w"> </span><span class="s1">&#39;4&#39;</span><span class="o">}</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">default_time_to_live</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">31536000</span>
<span class="w">   </span>AND<span class="w"> </span><span class="nv">comment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;365 days retention for 86400 seconds resolution metrics&#39;</span><span class="p">;</span>
</code></pre></div>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../centos/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Installing on Centos/Redhat" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Installing on Centos/Redhat
            </div>
          </div>
        </a>
      
      
        
        <a href="../../axon-dash/install/" class="md-footer__link md-footer__link--next" aria-label="Next: AxonOps Dash" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              AxonOps Dash
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2024 AxonOps. All rights reserved.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "announce.dismiss", "navigation.sections", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="../../../assets/javascripts/bundle.467223ff.min.js"></script>
      
        <script src="../../../javascripts/extra.js"></script>
      
    
  </body>
</html>