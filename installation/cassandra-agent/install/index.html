



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>AxonOps Cassandra Agent - AxonOps Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.11e41852.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#axonops-cassandra-agent-installation" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="AxonOps Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../../img/bg_logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                AxonOps Documentation
              </span>
              <span class="md-header-nav__topic">
                AxonOps Cassandra Agent
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="AxonOps Documentation" class="md-nav__button md-logo">
      
        <img src="../../../img/bg_logo.png" width="48" height="48">
      
    </a>
    AxonOps Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../overview/motivation/" title="Motivation" class="md-nav__link">
      Motivation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../overview/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      AxonOps Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        AxonOps Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../axon-server/ubuntu/" title="Installing on Ubuntu/Debian" class="md-nav__link">
      Installing on Ubuntu/Debian
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../axon-server/centos/" title="Installing on Centos/Redhat" class="md-nav__link">
      Installing on Centos/Redhat
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../axon-dash/install/" title="AxonOps GUI Server" class="md-nav__link">
      AxonOps GUI Server
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        AxonOps Cassandra Agent
      </label>
    
    <a href="./" title="AxonOps Cassandra Agent" class="md-nav__link md-nav__link--active">
      AxonOps Cassandra Agent
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#available-versions" title="Available versions" class="md-nav__link">
    Available versions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-installation" title="Step 1 - Installation" class="md-nav__link">
    Step 1 - Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#centos-redhat-installer" title="CentOS / RedHat installer" class="md-nav__link">
    CentOS / RedHat installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debian-ubuntu-installer" title="Debian / Ubuntu installer" class="md-nav__link">
    Debian / Ubuntu installer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-agent-configuration" title="Step 2 - Agent Configuration" class="md-nav__link">
    Step 2 - Agent Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#human_readable_identifier-details" title="human_readable_identifier details" class="md-nav__link">
    human_readable_identifier details
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-configure-cassandra" title="Step 3 - Configure Cassandra" class="md-nav__link">
    Step 3 - Configure Cassandra
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-add-axonops-user-to-cassandra-user-group-and-cassandra-user-to-axonops-group" title="Step 4 - Add axonops user to Cassandra user group and Cassandra user to axonops group" class="md-nav__link">
    Step 4 - Add axonops user to Cassandra user group and Cassandra user to axonops group
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-start-cassandra" title="Step 5 - Start Cassandra" class="md-nav__link">
    Step 5 - Start Cassandra
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-start-axon-agent" title="Step 6 - Start axon-agent" class="md-nav__link">
    Step 6 - Start axon-agent
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optional-step-7-cassandra-remote-backups-or-restore-prerequisites" title="(Optional) Step 7 - Cassandra Remote Backups or Restore Prerequisites" class="md-nav__link">
    (Optional) Step 7 - Cassandra Remote Backups or Restore Prerequisites
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cassandra-agent-package-details" title="Cassandra agent Package details" class="md-nav__link">
    Cassandra agent Package details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#axon-agent-package-details-dependency-of-cassandra-agent" title="axon-agent Package details (dependency of Cassandra agent)" class="md-nav__link">
    axon-agent Package details (dependency of Cassandra agent)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../compat_matrix/compat_matrix/" title="Compatibility matrix" class="md-nav__link">
      Compatibility matrix
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Using AxonOps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Using AxonOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      Cluster Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        Cluster Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cluster/cluster-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Monitoring
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Monitoring
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../monitoring/overview/" title="Monitoring Overview" class="md-nav__link">
      Monitoring Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2-2" type="checkbox" id="nav-4-2-2">
    
    <label class="md-nav__link" for="nav-4-2-2">
      Service Checks
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-2-2">
        Service Checks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../monitoring/servicechecks/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../monitoring/servicechecks/configurations/" title="Configurations" class="md-nav__link">
      Configurations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../monitoring/servicechecks/alerting/" title="Alerting" class="md-nav__link">
      Alerting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2-3" type="checkbox" id="nav-4-2-3">
    
    <label class="md-nav__link" for="nav-4-2-3">
      Metrics Dashboard
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-2-3">
        Metrics Dashboard
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../monitoring/metricsdashboards/cassandra/" title="Cassandra" class="md-nav__link">
      Cassandra
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      Notification Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        Notification Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../integrations/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../integrations/pagerduy-integration/" title="PagerDuty Integration" class="md-nav__link">
      PagerDuty Integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../integrations/slack-integration/" title="Slack Integration" class="md-nav__link">
      Slack Integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../integrations/email-integration/" title="Email Integration" class="md-nav__link">
      Email Integration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Operations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        Operations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4-1" type="checkbox" id="nav-4-4-1">
    
    <label class="md-nav__link" for="nav-4-4-1">
      Cassandra
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-4-1">
        Cassandra
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../operations/cassandra/repair/" title="Repair" class="md-nav__link">
      Repair
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4-1-2" type="checkbox" id="nav-4-4-1-2">
    
    <label class="md-nav__link" for="nav-4-4-1-2">
      Backups
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-4-1-2">
        Backups
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../operations/cassandra/backup/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../operations/cassandra/backup/configurations/" title="Cassandra Backup Configurations" class="md-nav__link">
      Cassandra Backup Configurations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      AxonOps Server API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        AxonOps Server API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../server/api/overview/" title="AxonOps Server API" class="md-nav__link">
      AxonOps Server API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      How-to
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        How-to
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../how-to/setup-alert-rules/" title="Setup Alert Rules" class="md-nav__link">
      Setup Alert Rules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../how-to/setup-servicechecks/" title="Setup Service Checks" class="md-nav__link">
      Setup Service Checks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../how-to/setup-log-collection/" title="Setup Log Collection" class="md-nav__link">
      Setup Log Collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../how-to/default-routing/" title="Setup Default Routing" class="md-nav__link">
      Setup Default Routing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../how-to/backup-restore-notifications/" title="Setup Backup-Restore Notifications" class="md-nav__link">
      Setup Backup-Restore Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../how-to/setup-dashboards-global-integrations/" title="Setup Dashboards-Global Integrations" class="md-nav__link">
      Setup Dashboards-Global Integrations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#available-versions" title="Available versions" class="md-nav__link">
    Available versions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-installation" title="Step 1 - Installation" class="md-nav__link">
    Step 1 - Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#centos-redhat-installer" title="CentOS / RedHat installer" class="md-nav__link">
    CentOS / RedHat installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debian-ubuntu-installer" title="Debian / Ubuntu installer" class="md-nav__link">
    Debian / Ubuntu installer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-agent-configuration" title="Step 2 - Agent Configuration" class="md-nav__link">
    Step 2 - Agent Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#human_readable_identifier-details" title="human_readable_identifier details" class="md-nav__link">
    human_readable_identifier details
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-configure-cassandra" title="Step 3 - Configure Cassandra" class="md-nav__link">
    Step 3 - Configure Cassandra
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-add-axonops-user-to-cassandra-user-group-and-cassandra-user-to-axonops-group" title="Step 4 - Add axonops user to Cassandra user group and Cassandra user to axonops group" class="md-nav__link">
    Step 4 - Add axonops user to Cassandra user group and Cassandra user to axonops group
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-start-cassandra" title="Step 5 - Start Cassandra" class="md-nav__link">
    Step 5 - Start Cassandra
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-start-axon-agent" title="Step 6 - Start axon-agent" class="md-nav__link">
    Step 6 - Start axon-agent
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optional-step-7-cassandra-remote-backups-or-restore-prerequisites" title="(Optional) Step 7 - Cassandra Remote Backups or Restore Prerequisites" class="md-nav__link">
    (Optional) Step 7 - Cassandra Remote Backups or Restore Prerequisites
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cassandra-agent-package-details" title="Cassandra agent Package details" class="md-nav__link">
    Cassandra agent Package details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#axon-agent-package-details-dependency-of-cassandra-agent" title="axon-agent Package details (dependency of Cassandra agent)" class="md-nav__link">
    axon-agent Package details (dependency of Cassandra agent)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="axonops-cassandra-agent-installation">AxonOps Cassandra agent installation<a class="headerlink" href="#axonops-cassandra-agent-installation" title="Permanent link">&para;</a></h1>
<p>This agent will enable metrics, logs and events collection with adaptive repairs and backups for Cassandra.</p>
<h2 id="available-versions">Available versions<a class="headerlink" href="#available-versions" title="Permanent link">&para;</a></h2>
<ul>
<li>Apache Cassandra 3.11 </li>
<li>Apache Cassandra 3.0</li>
</ul>
<h2 id="step-1-installation">Step 1 - Installation<a class="headerlink" href="#step-1-installation" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Make sure that the version of your Cassandra and Cassandra agent are compatible from the <a href="../../compat_matrix/compat_matrix">compatibility matrix</a>. </p>
</blockquote>
<h4 id="centos-redhat-installer">CentOS / RedHat installer<a class="headerlink" href="#centos-redhat-installer" title="Permanent link">&para;</a></h4>
<blockquote>
<p>example with Apache Cassandra 3.11.x:</p>
</blockquote>
<div class="codehilite"><pre><span></span>curl -1sLf <span class="s1">&#39;https://repo.axonops.com/public/yum/cfg/setup/bash.rpm.sh&#39;</span> <span class="p">|</span> sudo bash
sudo yum install axon-cassandra3.11-agent
</pre></div>


<h4 id="debian-ubuntu-installer">Debian / Ubuntu installer<a class="headerlink" href="#debian-ubuntu-installer" title="Permanent link">&para;</a></h4>
<blockquote>
<p>example with Apache Cassandra 3.11.x:</p>
</blockquote>
<div class="codehilite"><pre><span></span>curl -1sLf <span class="s1">&#39;https://repo.axonops.com/public/apt/cfg/setup/bash.deb.sh&#39;</span> <span class="p">|</span> sudo bash
sudo apt-get install axon-cassandra3.11-agent
</pre></div>


<blockquote>
<p>Note: This will install AxonOps Cassandra agent and it's dependency: axon-agent</p>
</blockquote>
<h2 id="step-2-agent-configuration">Step 2 - Agent Configuration<a class="headerlink" href="#step-2-agent-configuration" title="Permanent link">&para;</a></h2>
<p>Update the following highlighted lines from <code>/etc/axonops/axon-agent.yml</code>:</p>
<div class="codehilite"><pre><span></span><span class="nt">axon-server</span><span class="p">:</span>
<span class="hll">    <span class="nt">hosts</span><span class="p">:</span> <span class="s">&quot;axon-server_endpoint&quot;</span> <span class="c1"># Specify axon-server IP axon-server.mycompany.</span>
</span>    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1888</span>

<span class="nt">axon-agent</span><span class="p">:</span>
<span class="hll">    <span class="nt">org</span><span class="p">:</span> <span class="s">&quot;my-company-test&quot;</span> <span class="c1"># Specify your organisation name</span>
</span>    <span class="nt">human_readable_identifier</span><span class="p">:</span> <span class="nt">&quot;axon_agent_ip&quot; # one of the following</span><span class="p">:</span> 
    <span class="c1"># # &quot;axon_agent_ip&quot;</span>
    <span class="c1"># # &quot;env_&lt;env_variable_name&gt;&quot;</span>
    <span class="c1"># # &quot;awsec2_&lt;variable_name&gt;&quot;</span>
    <span class="c1"># # &quot;gcs_&lt;variable_name&gt;&quot;</span>

    <span class="c1"># # environment  examples:</span>
    <span class="c1"># #   &quot;env_hostname&quot; </span>
    <span class="c1"># # Amazon Web Services EC2 examples:</span>
    <span class="c1"># #   &quot;awsec2_id&quot;</span>
    <span class="c1"># #   &quot;awsec2_name&quot;</span>
    <span class="c1"># #   &quot;awsec2_hostname&quot;</span>
    <span class="c1"># # Google Cloud examples:</span>
    <span class="c1"># #   &quot;gcs_id&quot;</span>
    <span class="c1"># #   &quot;gcs_name&quot;</span>
    <span class="c1"># #   &quot;gcs_hostname&quot;</span>

    <span class="c1"># tls:</span>
    <span class="c1">#   mode: &quot;disabled&quot; # disabled, TLS</span>
    <span class="c1">#   skipVerify: false</span>
    <span class="c1">#   caFile: &quot;***.crt&quot;</span>
    <span class="c1">#   certFile: &quot;***.crt&quot;</span>
    <span class="c1">#   keyFile: &quot;***.key&quot;</span>

<span class="nt">NTP</span><span class="p">:</span>
<span class="hll">    <span class="nt">host</span><span class="p">:</span> <span class="s">&quot;set_NTP_server&quot;</span> <span class="c1"># Specify a NTP to determine a NTP offset </span>
</span>
<span class="nt">cassandra</span><span class="p">:</span>
  <span class="nt">tier0</span><span class="p">:</span> <span class="c1"># metrics collected every 5 seconds</span>
      <span class="nt">metrics</span><span class="p">:</span>
          <span class="nt">jvm_</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;java.lang:*&quot;</span>
          <span class="nt">cas_</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;org.apache.cassandra.metrics:*&quot;</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;org.apache.cassandra.net:type=FailureDetector&quot;</span>

  <span class="nt">tier1</span><span class="p">:</span>
      <span class="nt">frequency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">300</span> <span class="c1"># metrics collected every 300 seconds (5m)</span>
      <span class="nt">metrics</span><span class="p">:</span>
          <span class="nt">cas_</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="s">&quot;org.apache.cassandra.metrics:name=EstimatedPartitionCount,*&quot;</span>

  <span class="c1">#tier2:</span>
  <span class="c1">#    frequency: 3600 # 1h</span>

  <span class="c1">#tier3:</span>
  <span class="c1">#    frequency: 86400 # 1d</span>

  <span class="nt">blacklist</span><span class="p">:</span> <span class="c1"># You can blacklist metrics based on Regex pattern. Hit the agent on http://agentIP:9916/metricslist to list JMX metrics it is collecting</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;org.apache.cassandra.metrics:type=ColumnFamily.*&quot;</span> <span class="c1"># duplication of table metrics</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;org.apache.cassandra.metrics:.*scope=Repair#.*&quot;</span> <span class="c1"># ignore each repair instance metrics</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;org.apache.cassandra.metrics:.*name=SnapshotsSize.*&quot;</span> <span class="c1"># Collecting SnapshotsSize metrics slows down collection</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;org.apache.cassandra.metrics:.*Max.*&quot;</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;org.apache.cassandra.metrics:.*Min.*&quot;</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;.*999thPercentile|.*50thPercentile|.*FifteenMinuteRate|.*FiveMinuteRate|.*MeanRate|.*Mean|.*OneMinuteRate|.*StdDev&quot;</span>

  <span class="nt">JMXOperationsBlacklist</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;getThreadInfo&quot;</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;getDatacenter&quot;</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;getRack&quot;</span>

  <span class="nt">DMLEventsWhitelist</span><span class="p">:</span> <span class="c1"># You can whitelist keyspaces / tables (list of &quot;keyspace&quot; and/or &quot;keyspace.table&quot; to log DML queries. Data is not analysed.</span>
  <span class="c1"># - &quot;system_distributed&quot;</span>

  <span class="nt">DMLEventsBlacklist</span><span class="p">:</span> <span class="c1"># You can blacklist keyspaces / tables from the DMLEventsWhitelist (list of &quot;keyspace&quot; and/or &quot;keyspace.table&quot; to log DML queries. Data is not analysed.</span>
  <span class="c1"># - system_distributed.parent_repair_history</span>

  <span class="nt">logSuccessfulRepairs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span> <span class="c1"># set it to true if you want to log all the successful repair events.</span>

  <span class="nt">warningThresholdMillis</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span> <span class="c1"># This will warn in logs when a MBean takes longer than the specified value.</span>

  <span class="nt">logFormat</span><span class="p">:</span> <span class="s">&quot;%4$s</span><span class="nv"> </span><span class="s">%1$tY-%1$tm-%1$td</span><span class="nv"> </span><span class="s">%1$tH:%1$tM:%1$tS,%1$tL</span><span class="nv"> </span><span class="s">%5$s%6$s%n&quot;</span>
</pre></div>


<h3 id="human_readable_identifier-details">human_readable_identifier details<a class="headerlink" href="#human_readable_identifier-details" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>If you want to identify your nodes by their IP, you must set <code>human_readable_identifier</code> to <code>"axon_agent_ip"</code>.
axon-agent will resolve the IP and pass it to the server as its humanly readable identifier</p>
</li>
<li>
<p>If you want to use the hostname of the system, specify <code>human_readable_identifier</code> to <code>"env_hostname"</code></p>
</li>
<li>
<p>If the node is a EC2 instance and you want to use AWS EC2 instance-id metadata, set it to <code>"awsec2_id"</code></p>
</li>
<li>
<p>If the node is a Google Cloud instance and you want its Google Cloud ID, set it to <code>"gcs_id"</code></p>
</li>
</ul>
<blockquote>
<p>Note: the log format will only be used by AxonOps Cassandra agent</p>
</blockquote>
<h2 id="step-3-configure-cassandra">Step 3 - Configure Cassandra<a class="headerlink" href="#step-3-configure-cassandra" title="Permanent link">&para;</a></h2>
<p>Edit <code>cassandra-env.sh</code> usually located in your Cassandra install path such as <code>/&lt;Cassandra Installation Directory&gt;/conf/cassandra-env.sh</code> and append the following line at the end of the file:</p>
<div class="codehilite"><pre><span></span><span class="nv">JVM_OPTS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$JVM_OPTS</span><span class="s2"> -javaagent:/usr/share/axonops/axon-cassandra{version}-agent.jar=/etc/axonops/axon-agent.yml&quot;</span>
</pre></div>


<blockquote>
<p>example with Cassandra agent version <em>3.11</em>:</p>
</blockquote>
<div class="codehilite"><pre><span></span><span class="nv">JVM_OPTS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$JVM_OPTS</span><span class="s2"> -javaagent:/usr/share/axonops/axon-cassandra3.11-agent.jar=/etc/axonops/axon-agent.yml&quot;</span>
</pre></div>


<blockquote>
<p>Make sure that this configuration will not get overridden by an automation tool.</p>
</blockquote>
<h2 id="step-4-add-axonops-user-to-cassandra-user-group-and-cassandra-user-to-axonops-group">Step 4 - Add axonops user to Cassandra user group and Cassandra user to axonops group<a class="headerlink" href="#step-4-add-axonops-user-to-cassandra-user-group-and-cassandra-user-to-axonops-group" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>sudo usermod -aG &lt;your_cassandra_group&gt; axonops
sudo usermod -aG axonops &lt;your_cassandra_user&gt;
</pre></div>


<h2 id="step-5-start-cassandra">Step 5 - Start Cassandra<a class="headerlink" href="#step-5-start-cassandra" title="Permanent link">&para;</a></h2>
<h2 id="step-6-start-axon-agent">Step 6 - Start axon-agent<a class="headerlink" href="#step-6-start-axon-agent" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>sudo service axon-agent start
</pre></div>


<h2 id="optional-step-7-cassandra-remote-backups-or-restore-prerequisites">(Optional) Step 7 - Cassandra Remote Backups or Restore Prerequisites<a class="headerlink" href="#optional-step-7-cassandra-remote-backups-or-restore-prerequisites" title="Permanent link">&para;</a></h2>
<p>For security reasons, the default configuration of the AxonOps agent user (<strong>axonops</strong>) on the Cassandra server does not have read/write access to the Cassandra data directories. When using AxonOps to remotly backup data, the axonops user will need read access to the Cassandra data directories and when restoring a backup, write access is required.</p>
<p>The exact way this access can be managed is dependent on the security requirements of the cluster being managed. If there are no specific requirements to restrict the AxonOps agent users data folder access then adding the user to the Cassandra DB group would typically grant the user read/write access to the Cassandra data directories e.g <code>usermod -a -G cassandra axonops</code></p>
<h4 id="cassandra-agent-package-details">Cassandra agent Package details<a class="headerlink" href="#cassandra-agent-package-details" title="Permanent link">&para;</a></h4>
<ul>
<li>Configuration: <code>/etc/axonops/axon-agent.yml</code></li>
<li>Binary: <code>/usr/share/axonops/axon-cassandra{version}-agent.jar</code></li>
<li>Version number: <code>/usr/share/axonops/axon-cassandra{version}-agent.version</code></li>
<li>Copyright : <code>/usr/share/doc/axonops/axon-cassandra{version}-agent/copyright</code></li>
<li>Licenses : <code>/usr/share/axonops/licenses/axon-cassandra{version}-agent/</code></li>
</ul>
<h4 id="axon-agent-package-details-dependency-of-cassandra-agent">axon-agent Package details (dependency of Cassandra agent)<a class="headerlink" href="#axon-agent-package-details-dependency-of-cassandra-agent" title="Permanent link">&para;</a></h4>
<ul>
<li>Configuration: <code>/etc/axonops/axon-agent.yml</code></li>
<li>Binary: <code>usr/share/axonops/axon-agent</code></li>
<li>Logs : <code>/var/log/axonops/axon-agent.log</code></li>
<li>Systemd service: <code>/usr/lib/systemd/system/axon-agent.service</code></li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../axon-dash/install/" title="AxonOps GUI Server" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                AxonOps GUI Server
              </span>
            </div>
          </a>
        
        
          <a href="../../compat_matrix/compat_matrix/" title="Compatibility matrix" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Compatibility matrix
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            © 2019 digitalis.io All Rights Reserved
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.9e1f3b71.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-69443414-2","docs.axonops.com"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(a){a.host!=document.location.host&&a.addEventListener("click",function(){var e=a.getAttribute("data-md-action")||"follow";ga("send","event","outbound",e,a.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>